<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Kausalanalyse</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/hygge.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding/datatables.js"></script>
    <script src="libs/jquery/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="my-css.css" type="text/css" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: right, bottom, test, title-slide

# Kausalanalyse
## Kapitel 8

---







&lt;style&gt;

.center2 {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}

&lt;/style&gt;








  












































## Gliederung


&lt;/br&gt;
&lt;/br&gt;




.xlarge[
1. [Teil 1: Statistik, was soll ich tun?](#teil-1)

2. [Teil 2: Konfundierung](#teil-2)


3. [Hinweise](#hinweise)
]







`\(\newcommand{\indep}{\perp \!\!\! \perp}\)`
`\(\newcommand{\notindep}{\not\!\perp\!\!\!\perp}\)`



---








name: teil-1
class: middle, center



# Teil 1
## Statistik, was soll ich tun?


---


## Studie A: √ñstrogen

Was raten Sie dem Arzt? Medikament einnehmen, ja oder nein?

&lt;/br&gt;

<div id="zzxcngudwe" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#zzxcngudwe .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zzxcngudwe .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zzxcngudwe .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zzxcngudwe .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zzxcngudwe .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zzxcngudwe .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zzxcngudwe .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zzxcngudwe .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zzxcngudwe .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zzxcngudwe .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zzxcngudwe .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zzxcngudwe .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#zzxcngudwe .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zzxcngudwe .gt_from_md > :first-child {
  margin-top: 0;
}

#zzxcngudwe .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zzxcngudwe .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zzxcngudwe .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#zzxcngudwe .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zzxcngudwe .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#zzxcngudwe .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zzxcngudwe .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zzxcngudwe .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zzxcngudwe .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zzxcngudwe .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zzxcngudwe .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#zzxcngudwe .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zzxcngudwe .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#zzxcngudwe .gt_left {
  text-align: left;
}

#zzxcngudwe .gt_center {
  text-align: center;
}

#zzxcngudwe .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zzxcngudwe .gt_font_normal {
  font-weight: normal;
}

#zzxcngudwe .gt_font_bold {
  font-weight: bold;
}

#zzxcngudwe .gt_font_italic {
  font-style: italic;
}

#zzxcngudwe .gt_super {
  font-size: 65%;
}

#zzxcngudwe .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Gruppe</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Mit Medikament</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Ohne Medikament</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">M√§nner</td>
<td class="gt_row gt_left">81/87 √ºberlebt (93%)</td>
<td class="gt_row gt_left">234/270 √ºberlebt (87%)</td></tr>
    <tr><td class="gt_row gt_left">Frauen</td>
<td class="gt_row gt_left">192/263 √ºberlebt (73%)</td>
<td class="gt_row gt_left">55/80 √ºberlebt (69%)</td></tr>
    <tr><td class="gt_row gt_left">Gesamt</td>
<td class="gt_row gt_left">273/350 √ºberlebt (78%)</td>
<td class="gt_row gt_left">289/350 √ºberlebt (83%)</td></tr>
  </tbody>
  
  
</table>
</div>

&lt;/br&gt;


- Die Daten stammen aus einer (fiktiven) klinischen Studie, `\(n=700\)`\, hoher Qualit√§t (Beobachtungsstudie).
- Bei M√§nnern scheint das Medikament zu helfen; bei Frauen auch.
- Aber *insgesamt* (Summe von Frauen und M√§nnern) *nicht*?!
- Was sollen wir den Arzt rate? Soll er das Medikament verschreiben? Vielleicht nur dann, wenn er das Geschlecht kennt?

&lt;a name=cite-pearl_causal_2016&gt;&lt;/a&gt;([Pearl, Glymour, and Jewell, 2016](#bib-pearl_causal_2016))



---

## Kausalmodell zur Studie A

.pull-left[

- Das Geschlecht (√ñstrogren) hat einen Einfluss (+) auf Einnahme des Medikaments und auf Heilung (-).
- Das Medikament hat einen Einfluss (+) auf Heilung.
- Betrachtet man die Gesamt-Daten zur Heilung, so ist der Effekt von Geschlecht (√ñstrogen) und Medikament *vermengt* (konfundiert).

]

.pull-right[
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-5-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]

### Betrachtung der Teildaten (stratifziert pro Gruppe) zeigt den wahren, kausalen Effekt. 

Betrachtung der Gesamtdaten zeigt einen *konfundierten* Effekt: Geschlecht konfundiert den Zusammenhang von Medikament und Heilung.

---


## Studie B: Blutdruck

Was raten Sie dem Arzt? Medikament einnehmen, ja oder nein?

&lt;/br&gt;

<div id="utsallomxr" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#utsallomxr .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#utsallomxr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#utsallomxr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#utsallomxr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#utsallomxr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#utsallomxr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#utsallomxr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#utsallomxr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#utsallomxr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#utsallomxr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#utsallomxr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#utsallomxr .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#utsallomxr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#utsallomxr .gt_from_md > :first-child {
  margin-top: 0;
}

#utsallomxr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#utsallomxr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#utsallomxr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#utsallomxr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#utsallomxr .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#utsallomxr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#utsallomxr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#utsallomxr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#utsallomxr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#utsallomxr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#utsallomxr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#utsallomxr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#utsallomxr .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#utsallomxr .gt_left {
  text-align: left;
}

#utsallomxr .gt_center {
  text-align: center;
}

#utsallomxr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#utsallomxr .gt_font_normal {
  font-weight: normal;
}

#utsallomxr .gt_font_bold {
  font-weight: bold;
}

#utsallomxr .gt_font_italic {
  font-style: italic;
}

#utsallomxr .gt_super {
  font-size: 65%;
}

#utsallomxr .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Gruppe</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Ohne Medikament</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Mit Medikament</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">geringer Blutdruck</td>
<td class="gt_row gt_left">81/87 √ºberlebt (93%)</td>
<td class="gt_row gt_left">234/270 √ºberlebt (87%)</td></tr>
    <tr><td class="gt_row gt_left">hoher Blutdruck</td>
<td class="gt_row gt_left">192/263 √ºberlebt (73%)</td>
<td class="gt_row gt_left">55/80 √ºberlebt (69%)</td></tr>
    <tr><td class="gt_row gt_left">Gesamt</td>
<td class="gt_row gt_left">273/350 √ºberlebt (78%)</td>
<td class="gt_row gt_left">289/350 √ºberlebt (83%)</td></tr>
  </tbody>
  
  
</table>
</div>



&lt;/br&gt;


- Die Daten stammen aus einer (fiktiven) klinischen Studie, `\(n=700\)`, hoher Qualit√§t (Beobachtungsstudie).
- Bei geringem Blutdruck scheint das Medikament zu schaden.
- Bei hohem Blutdrck scheint das Medikamenet auch zu schaden.
- Aber *insgesamt* (Summe √ºber beide Gruppe) *nicht*, da scheint es zu nutzen?!
- Was sollen wir den Arzt rate? Soll er das Medikament verschreiben? Vielleicht nur dann, wenn er den Blutdruck nicht kennt?


([Pearl, Glymour, and Jewell, 2016](#bib-pearl_causal_2016))
---

## Kausalmodell zur Studie B



.pull-left[

- Das Medikament hat einen (absenkenden) Einfluss auf den Blutdruck.
- Gleichzeitig hat das Medikament einen (toxischen) Effekt auf die Heilung.
- Verringerter Blutdruck hat einen positiven Einfluss auf die Heilung.
- Sucht man innerhalb der Leute mit gesenktem Blutdruck nach Effekten, findet man nur den toxischen Effekt: Gegeben diesen Blutdruck ist das Medikament sch√§dlich aufgrund des toxischen Effekts. Der positive Effekt der Blutdruck-Senkung ist auf diese Art nicht zu sehen.
]



.pull-right[

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-7-1.png" width="100%" style="display: block; margin: auto;" /&gt;

Betrachtung der Teildaten zeigt nur den toxischen Effekt des Medikaments, nicht den n√ºtzlichen (Reduktion des Blutdrucks).

]



### Betrachtung der Gesamtdaten zeigt den wahren, kausalen Effekt. 




---


## Studie A und B: Gleiche Daten, unterschiedliches Kausalmodell


.pull-left[
### Studie A
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-8-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]



.pull-right[
### Studie B
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-9-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]


Kausale Interpretation - und damit Entscheidungen f√ºr Handlungen - war nur m√∂glich, wenn das Kausalmodell bekannt ist. 
Die Daten alleine reichen nicht.


---


## Sorry, Statistik: Du allein schaffst es nicht



.pull-left[
### Statistik alleine reicht nicht f√ºr Kausalschl√ºsse
.xxxlarge[
.center[üßü]
]
]




.pull-right[
### Statistik plus Theorie erlaubt Kausalschl√ºsse
.xxxlarge[
.center[üìö+üìä=ü§©]
]
]

- F√ºr Entscheidungen ("Was soll ich tun?") braucht man kausales Wissen.
- Kausales Wissen basiert auf einer Theorie (Kausalmodell) plus Daten.


---


## Studie C: Nierensteine


.center2[
Nehmen wir an, es gibt zwei Behandlungsvarianten bei Nierensteinen, Behandlung A und B. √Ñrzte tendieren zu Behandlung A bei gro√üen Steinen (die einen schwereren Verlauf haben); bei kleineren Steinen tendieren die √Ñrzte zu Behandlung B. 


Sollte ein Patient, der nicht wei√ü, ob sein Nierenstein gro√ü oder klein ist, die Wirksamkeit in der Gesamtpopulation (Gesamtdaten) oder in den stratiÔ¨Åzierten Daten (Teildaten nach Steingr√∂√üe) betrachten, um zu entscheiden, welche Behandlungsvariante er (oder sie) w√§hlt?
]




---

## Kausalmodell zur Studie C


.pull-left[
- Die Gr√∂√üe der Nierensteine hat einen Einfluss auf die Behandlungsmethode.
- Die Behandlung hat eien Einfluss auf die Heilung.
- Damit gibt es eine Mediation von Gr√∂√üe -&gt; Behandlung -&gt; Heilung.
- Dar√ºberhinaus gibt es noch einen Einfluss von Gr√∂√üe der Nierensteine auf die Heilung.
]


.pull-right[
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-10-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

## Soll ich heiraten?


.center2[
‚ÄûStudien zeigen, dass Einkommen und Heiraten (bzw. verheiratete sein) hoch korrelieren. Daher wird sich dein Einkommen erh√∂hen, wenn du heiratest.‚Äú
]


---

## Soll ich mich beeilen?


.center2[
‚ÄûStudien zeigen, dass Leute, die sich beeilen, zu sp√§t zu ihrer Besprechung kommen. Daher lieber nicht beeilen, oder du kommst zu sp√§t zu deiner Besprechung.‚Äú
]


---















name: teil-2
class: middle, center



# Teil 2
## Konfundierung

`\(\newcommand{\indep}{\perp \!\!\! \perp}\)`

---


## Datensatz 'Hauspreise im Saratoga County'


[Datenquelle](https://vincentarelbundock.github.io/Rdatasets/csv/mosaicData/SaratogaHouses.csv); 
[Beschreibung des Datensatzes](https://vincentarelbundock.github.io/Rdatasets/doc/mosaicData/SaratogaHouses.html)



```r
d_path &lt;- "https://tinyurl.com/3jn3cc5u"
```





<div id="htmlwidget-8dfc308b919859eed458" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8dfc308b919859eed458">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901","902","903","904","905","906","907","908","909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936","937","938","939","940","941","942","943","944","945","946","947","948","949","950","951","952","953","954","955","956","957","958","959","960","961","962","963","964","965","966","967","968","969","970","971","972","973","974","975","976","977","978","979","980","981","982","983","984","985","986","987","988","989","990","991","992","993","994","995","996","997","998","999","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1014","1015","1016","1017","1018","1019","1020","1021","1022","1023","1024","1025","1026","1027","1028","1029","1030","1031","1032","1033","1034","1035","1036","1037","1038","1039","1040","1041","1042","1043","1044","1045","1046","1047","1048","1049","1050","1051","1052","1053","1054","1055","1056","1057","1058","1059","1060","1061","1062","1063","1064","1065","1066","1067","1068","1069","1070","1071","1072","1073","1074","1075","1076","1077","1078","1079","1080","1081","1082","1083","1084","1085","1086","1087","1088","1089","1090","1091","1092","1093","1094","1095","1096","1097","1098","1099","1100","1101","1102","1103","1104","1105","1106","1107","1108","1109","1110","1111","1112","1113","1114","1115","1116","1117","1118","1119","1120","1121","1122","1123","1124","1125","1126","1127","1128","1129","1130","1131","1132","1133","1134","1135","1136","1137","1138","1139","1140","1141","1142","1143","1144","1145","1146","1147","1148","1149","1150","1151","1152","1153","1154","1155","1156","1157","1158","1159","1160","1161","1162","1163","1164","1165","1166","1167","1168","1169","1170","1171","1172","1173","1174","1175","1176","1177","1178","1179","1180","1181","1182","1183","1184","1185","1186","1187","1188","1189","1190","1191","1192","1193","1194","1195","1196","1197","1198","1199","1200","1201","1202","1203","1204","1205","1206","1207","1208","1209","1210","1211","1212","1213","1214","1215","1216","1217","1218","1219","1220","1221","1222","1223","1224","1225","1226","1227","1228","1229","1230","1231","1232","1233","1234","1235","1236","1237","1238","1239","1240","1241","1242","1243","1244","1245","1246","1247","1248","1249","1250","1251","1252","1253","1254","1255","1256","1257","1258","1259","1260","1261","1262","1263","1264","1265","1266","1267","1268","1269","1270","1271","1272","1273","1274","1275","1276","1277","1278","1279","1280","1281","1282","1283","1284","1285","1286","1287","1288","1289","1290","1291","1292","1293","1294","1295","1296","1297","1298","1299","1300","1301","1302","1303","1304","1305","1306","1307","1308","1309","1310","1311","1312","1313","1314","1315","1316","1317","1318","1319","1320","1321","1322","1323","1324","1325","1326","1327","1328","1329","1330","1331","1332","1333","1334","1335","1336","1337","1338","1339","1340","1341","1342","1343","1344","1345","1346","1347","1348","1349","1350","1351","1352","1353","1354","1355","1356","1357","1358","1359","1360","1361","1362","1363","1364","1365","1366","1367","1368","1369","1370","1371","1372","1373","1374","1375","1376","1377","1378","1379","1380","1381","1382","1383","1384","1385","1386","1387","1388","1389","1390","1391","1392","1393","1394","1395","1396","1397","1398","1399","1400","1401","1402","1403","1404","1405","1406","1407","1408","1409","1410","1411","1412","1413","1414","1415","1416","1417","1418","1419","1420","1421","1422","1423","1424","1425","1426","1427","1428","1429","1430","1431","1432","1433","1434","1435","1436","1437","1438","1439","1440","1441","1442","1443","1444","1445","1446","1447","1448","1449","1450","1451","1452","1453","1454","1455","1456","1457","1458","1459","1460","1461","1462","1463","1464","1465","1466","1467","1468","1469","1470","1471","1472","1473","1474","1475","1476","1477","1478","1479","1480","1481","1482","1483","1484","1485","1486","1487","1488","1489","1490","1491","1492","1493","1494","1495","1496","1497","1498","1499","1500","1501","1502","1503","1504","1505","1506","1507","1508","1509","1510","1511","1512","1513","1514","1515","1516","1517","1518","1519","1520","1521","1522","1523","1524","1525","1526","1527","1528","1529","1530","1531","1532","1533","1534","1535","1536","1537","1538","1539","1540","1541","1542","1543","1544","1545","1546","1547","1548","1549","1550","1551","1552","1553","1554","1555","1556","1557","1558","1559","1560","1561","1562","1563","1564","1565","1566","1567","1568","1569","1570","1571","1572","1573","1574","1575","1576","1577","1578","1579","1580","1581","1582","1583","1584","1585","1586","1587","1588","1589","1590","1591","1592","1593","1594","1595","1596","1597","1598","1599","1600","1601","1602","1603","1604","1605","1606","1607","1608","1609","1610","1611","1612","1613","1614","1615","1616","1617","1618","1619","1620","1621","1622","1623","1624","1625","1626","1627","1628","1629","1630","1631","1632","1633","1634","1635","1636","1637","1638","1639","1640","1641","1642","1643","1644","1645","1646","1647","1648","1649","1650","1651","1652","1653","1654","1655","1656","1657","1658","1659","1660","1661","1662","1663","1664","1665","1666","1667","1668","1669","1670","1671","1672","1673","1674","1675","1676","1677","1678","1679","1680","1681","1682","1683","1684","1685","1686","1687","1688","1689","1690","1691","1692","1693","1694","1695","1696","1697","1698","1699","1700","1701","1702","1703","1704","1705","1706","1707","1708","1709","1710","1711","1712","1713","1714","1715","1716","1717","1718","1719","1720","1721","1722","1723","1724","1725","1726","1727","1728"],[132500,181115,109000,155000,86060,120000,153000,170000,90000,122900,325000,120000,85860,97000,127000,89900,155000,253750,60000,87500,112000,104900,148635,150000,90400,248800,135000,145000,457000,140000,130000,187000,229000,227000,179900,169900,209900,169900,293000,245900,157000,195000,150000,234900,279550,246500,124000,138000,290000,108000,134900,64500,142000,125000,88000,135000,90000,90100,126900,175000,158000,92000,82800,140000,171000,200640,139000,225000,182000,208767,186000,93000,257386,161000,92000,211002,115000,113000,216300,145000,114000,139050,104000,169900,177900,133000,185000,115000,100000,117000,150000,187500,107000,126900,147000,62000,101000,143500,113400,76320,110000,88000,108000,114900,146000,225000,138000,218070,25000,112000,112500,97000,121000,65720,225000,192000,158500,247000,193777,136500,75000,45000,243000,90000,158000,174000,150000,159650,139062,84950,102000,175000,78500,232478,93805,119900,146000,125000,135000,157500,135000,142900,259900,85000,180377,163500,106500,115000,115000,135000,198900,139000,206000,120000,205980,275000,139000,89900,139900,172750,136000,270000,174000,379000,382500,144900,349900,133000,115000,211950,227812,164400,340000,139900,279900,225000,144500,362710,247000,120000,136000,228500,162800,230000,115800,175000,263008,146000,204900,265000,167500,205000,170000,176000,132000,115500,150000,120000,125000,150000,362360,133500,91000,104000,148000,182000,152500,97000,113000,172000,179900,84000,117900,177000,107500,92500,102900,134800,150000,165000,120000,177500,300000,123500,141000,105400,100600,108900,105500,109900,172700,166500,105000,490000,120000,107500,116600,65000,118000,115900,100000,171000,188000,140000,124500,107200,107500,180000,214325,128850,208700,139900,350000,108000,115500,135000,135000,107400,233000,105000,335000,139000,209500,101000,77500,150500,167000,114000,160000,85000,143000,126000,140000,140000,205000,79900,139000,190000,151500,97500,194500,195160,152500,159500,185000,240000,187900,262000,212500,220000,245000,120000,102500,136000,212500,205900,259900,191500,272500,191500,158000,195000,187500,160000,137500,109900,85000,184350,134500,154900,255000,238600,106000,625000,195000,168500,87000,215000,197500,215000,118000,187900,275000,249900,270000,157900,120000,126400,220000,180000,203600,249900,193000,215000,201000,65000,195000,215900,92000,155000,123500,110400,198900,150000,104000,245000,180000,154300,170000,219000,295000,181500,260000,239900,135500,191500,225000,98500,110500,290000,184400,178500,415000,244900,150000,168000,159000,127000,175000,255250,175000,235000,324000,173000,116900,105900,112000,235000,235000,130000,235000,191900,284900,335000,140000,191000,153000,196000,248000,240000,132000,199000,217000,167000,245000,358000,412500,208000,270000,100000,130000,182500,139000,104000,221000,260000,182500,196000,132000,224900,199900,165835,189000,89900,235000,166000,153100,162000,224000,222400,199000,166000,149900,152000,162500,274900,100000,215000,124000,125000,138000,225000,180000,189900,435000,120000,163000,131000,126500,122500,425000,225000,209000,189100,285000,266600,80000,225000,159000,119900,130900,194670,72000,144700,139500,319000,348000,189900,20000,60000,179500,133300,153000,111900,187000,158500,153000,190000,242000,234500,225000,165000,129900,315000,129900,257000,324000,520000,150414,290000,112000,185000,295000,290000,79900,256000,245000,140000,272000,164000,182500,219900,325000,352000,315000,154000,199000,202000,292000,116600,155000,215000,373490,259142,293565,285558,273960,185000,190000,171000,208000,168000,165000,138500,179900,180000,112000,152000,100000,154000,133000,285000,138000,303000,250000,167500,190000,182500,107000,195000,169000,156000,120000,170000,249835,188095,176450,322277,149000,95000,198500,185000,168900,220000,129900,167000,330000,336000,512971,229000,145000,103000,210000,559000,218000,262138,125000,130000,157500,193000,275000,240000,200136,395000,366703,103150,310000,142900,359770,126000,760000,282500,132000,325000,207000,155000,330000,101760,496000,185000,125000,286000,269000,303374,371165,287600,131000,187000,169000,133500,620000,549254,280000,135000,195388,337020,330850,248495,120000,240000,235000,500075,240000,270000,225000,280000,225000,248220,275000,137000,150000,649000,195000,373200,169450,144200,189900,166000,160000,327355,247000,318000,341000,288650,157000,449000,142000,389000,476000,249230,139900,301900,425000,121000,150000,138000,199900,145000,465000,158000,375000,147783,339000,267000,290000,271295,278140,138000,367500,428500,140000,140000,145000,280000,190400,267000,164900,280000,225000,148000,165000,340455,133000,115540,240000,600000,71500,189900,325000,280000,255000,300000,106000,139000,165000,169000,159400,300000,161000,230500,220000,177900,350000,335000,597185,173000,518000,212000,149900,140958,95000,161600,351400,155000,198500,276000,167000,227000,405100,395000,360000,775000,285000,300000,214000,229000,330000,146000,381500,430000,650000,194500,279000,183000,195000,470000,167000,309278,217500,200000,199995,179000,329000,374900,165000,647000,315000,208000,405000,535000,184020,95000,87550,131000,127000,104695,120000,278500,75500,121900,208000,151000,138000,229000,130000,89900,145000,86000,95000,195000,107325,131000,166900,127000,119000,92509,174000,180000,155000,146500,162500,210000,165000,123000,150000,128900,88100,175000,120975,147543,118000,199000,79900,279000,90000,91900,153000,170000,145200,296000,150000,86000,118000,155000,222500,250000,365000,120000,193000,85568,82000,225000,240000,234900,112000,261000,400000,310000,182000,187500,405000,420000,359000,120000,171500,159900,186500,260000,115000,191000,355465,339900,90000,245000,320900,159000,174900,293500,210000,182500,219900,370000,286000,169900,161000,287000,315000,177000,332000,249000,179000,150000,225000,182000,329900,165000,180000,321000,180000,178000,279900,179000,183000,500000,170000,179000,184900,177500,112500,180000,10300,137900,144000,131600,123500,123000,109000,173000,105000,122500,191000,149000,205000,225000,210000,188900,192000,137500,200000,126000,214500,152000,115000,88000,170000,137000,145000,202000,130000,265000,185000,130000,190000,204000,125000,349900,142000,132500,220000,160000,10300,95000,122055,149000,115000,140000,137900,144000,131600,123500,123000,109000,173000,105000,122500,191000,149000,205000,225000,210000,188900,192000,137500,200000,126000,214500,152000,115000,88000,170000,137000,145000,202000,130000,265000,185000,130000,190000,204000,125000,349900,142000,132500,220000,160000,156900,138000,166000,195000,295600,460000,126000,220300,175000,255000,185000,234000,133500,151000,157500,285000,217500,300000,161225,217000,250000,124000,248000,187000,195000,239900,475000,246000,219900,193500,122000,118000,125000,101000,249000,180000,292500,199500,205100,330000,179000,342000,145000,66000,269900,154000,454900,249900,165000,329000,49387,445000,73000,125000,146500,209000,196500,157000,125500,190000,250000,255000,129700,65000,107000,255000,398000,176000,249900,244900,220000,241000,159900,177555,95000,5000,264900,315000,155000,130000,238000,224000,211000,279000,242000,199875,259900,200000,212000,230000,189000,313635,185000,239900,202000,155000,120000,78000,311000,198000,158500,227000,265900,163000,165000,151000,200000,299900,210000,220000,326900,204900,234000,236000,124000,199100,245000,264000,105000,187000,127000,100000,251000,105000,431250,149900,180000,123500,253000,330000,124500,424200,120000,205000,175000,295000,156500,143000,215000,287000,122500,180000,143000,137000,271000,129900,133000,179000,302000,168000,120000,119000,168000,124900,415000,150000,310000,157000,205000,275000,320000,380000,119900,345000,145000,123000,202500,182000,175000,132500,239000,86125,245000,229900,129000,200000,144200,166000,178000,165000,218000,175000,145000,195000,288139,187500,255000,145000,183000,318310,192500,195000,138000,230000,237500,375000,105000,168000,221000,135000,129900,344100,112000,380000,125000,145000,190000,135000,58500,80500,150410,170000,242551,176500,212000,135000,215000,262000,155000,207000,185000,92200,111000,97000,200000,230000,299900,183855,174900,335000,208000,380000,289900,188000,600000,262000,220000,275000,215000,100000,158500,148900,218000,355840,168000,171000,195000,201880,145000,206000,78000,320900,159000,180000,129900,150000,171134,151000,100000,655000,243500,265000,400000,272800,255000,220000,775000,233000,216977,245000,159000,725000,268300,159000,155000,345000,165200,185000,225500,420000,220000,620000,260000,359900,375000,302900,175000,260000,270000,485000,200000,367000,175000,203000,170000,375000,159900,230000,375000,421000,218000,167850,252500,650000,380000,214500,218500,174000,225000,309750,658300,203000,375000,62500,205000,84500,280500,182000,571000,168000,354000,238000,182000,218500,227500,375000,399900,360000,412500,268500,300300,382500,189000,295000,220000,223000,399000,169480,347750,455000,249900,250000,265000,670000,195000,360000,175000,166500,190100,180500,440000,170000,220000,70500,65000,127500,155000,255500,136000,204000,200000,163000,149350,235000,260000,210000,159900,209000,135000,200000,432600,195000,165000,198000,219000,430000,120000,373735,183853,213500,155000,197000,392499,229900,289250,189900,397200,389405,135000,174000,525000,135000,412000,186000,453935,355000,186000,197000,180000,178000,305000,262000,225000,403040,388500,417000,410000,170000,295000,216000,221649,199900,463000,146500,225000,160000,275055,315513,323759,167500,272699,177500,128000,317105,144500,260000,244000,287989,159000,167000,348000,140000,145000,150450,230000,147423,223000,167500,299000,235900,147000,305000,154000,149000,300279,278000,202000,328463,185000,128000,335000,148900,229900,215000,253000,304065,222000,165000,275000,325000,406000,230000,125000,148000,279000,250000,314940,165900,150000,133000,155000,220000,229000,177000,120000,195000,315371,137000,225700,204900,189500,374000,319000,294100,440760,128000,239505,141700,215500,320210,273495,256350,255000,124000,293000,147000,284595,342269,229000,216900,164900,149000,150000,214990,173000,149900,155000,170000,237500,297065,342202,345264,325046,367000,159900,145000,272500,163255,319000,160600,246000,153000,295000,159000,148400,311000,314000,250000,149000,307890,223000,219000,178000,295925,141160,229900,254900,126000,176500,161800,112200,154500,300000,206000,257000,182000,161000,176000,177160,355063,213000,266500,285000,178900,300000,211000,451000,201400,195900,190000,150000,206000,285000,120000,377500,340000,240000,295000,215000,275000,189000,156000,410000,264500,145500,116500,264500,215000,263000,243000,203000,335000,385000,210000,154000,155000,165000,300000,240000,182000,194000,410000,280000,235000,185000,167000,206500,165000,230000,235000,200500,310000,169900,210500,305000,508000,220000,256000,196900,233000,140000,162900,178000,265000,454900,215000,248000,395000,171500,268000,166500,355000,165000,300000,350000,279900,265000,267000,235000,299900,167000,168000,150000,255000,455000,351100,315000,220000,159000,341000,276000,309000,217021,188500,320000,247000,166000,236000,233900,162740,225000,360000,281520,365000,315000,297900,270000,260000,72000,229500,275000,155000,225570,224000,290000,262000,319900,265000,255000,217300,291000,319000,271500,224900,260000,199900,252659,312500,290000,155000,355000,190000,130000,264000,193980,219900,469900,314230,138900,160000,228000,224400,132870,135600,150600,335000,316250,181280,158000,221000,230000,299000,148000,267500,259000,321000,409790,184000,145000,310000,170000,210500,199900,150000,153000,334000,216900,259000,240000,186030,203000,255000,119000,260800,169000,225000,124000,245000,250000,172000,153500,165000,159000,171500,240000,409550,302000,285000,385900,140595,213000,335000,290000,265000,334000,382406,149300,212000,195000,245000,422680,240000,156000,265000,334000,382406,149300,212000,195000,171600,245000,282000,260000,254500,179900,255000,265000,174000,322000,337000,221450,247000,180000,229900,230000,388000,350000,169700,190000,317500,70000,300000,145400,183500,275900,436023,319900,249000,289000,285000,194900,125000,111300],[906,1953,1944,1944,840,1152,2752,1662,1632,1416,2894,1624,704,1383,1300,936,1300,2816,924,1092,1056,1600,1576,2080,1600,2224,1656,1170,2461,1544,1220,1858,2219,1876,2026,1671,2060,1884,2022,2394,1390,1954,1554,1976,2479,2714,797,1500,1838,1042,1782,1480,1426,1404,1480,1344,1480,1480,1596,1768,1348,1480,1483,1576,1008,2332,1064,2428,1310,1662,2000,1480,2969,1542,1527,2195,1480,1452,2360,1440,1480,1879,1480,1792,1386,1676,768,1560,1000,1676,1656,2300,1712,1350,1676,1317,1056,912,1232,1380,936,720,1628,1144,1827,1784,1851,2194,920,1280,1232,1406,1164,1198,2206,1880,1368,1901,1547,896,1008,912,2443,900,2098,2115,1344,1106,1440,840,1170,1664,3024,2598,840,1701,1456,1224,1411,1608,3020,1898,2544,1038,1820,2202,2387,1368,1480,1348,1889,1343,2011,1180,1983,2253,1604,1196,1602,1747,1092,2410,1933,3080,4534,1677,2900,1392,1058,2342,2206,1516,2836,1256,2340,2129,1343,2963,2114,1144,988,1475,1247,1912,1440,1596,2665,1984,1616,1917,2592,1845,1360,1664,1098,1214,1046,1144,1140,1232,3020,1508,912,1508,1561,2625,936,912,1492,1599,2304,912,1385,1561,884,912,912,1384,1334,1433,1492,1561,936,1492,1853,1240,912,912,912,1184,1638,1508,672,1346,1184,912,912,988,1184,1385,912,1548,1561,1008,1385,908,2246,1820,2554,824,2458,1324,2916,1032,912,1320,1508,912,2040,912,1776,1304,1836,912,912,1527,1454,1700,1680,2401,1176,1344,1344,1714,1992,924,1290,2521,1377,1237,2310,1863,1693,1684,1585,2290,2464,2549,2316,2600,2677,1479,1138,1576,2084,1726,1851,2310,2930,2576,1664,1237,2662,1575,1566,1326,1480,2161,1352,1648,2936,2404,1738,5228,2576,1586,1480,1917,1938,2110,1479,2576,2445,2185,2078,1674,1228,1375,1650,1718,2576,2280,2088,1917,3140,1029,1896,2310,924,2080,1237,1287,1847,1064,1480,2462,2228,1260,1559,1980,2380,1887,2185,2488,1152,2025,2521,1480,1480,2362,1910,1952,3358,2090,1965,2110,1456,1479,1874,2099,1872,2388,2812,1064,1375,1480,1260,2086,2588,1480,1752,2660,2417,2793,1152,2344,1926,2208,2208,2708,1142,2529,1797,1611,2576,2653,3896,1585,2774,1283,1136,1896,1536,1480,2096,2324,2079,1911,1480,2208,1462,1794,1886,1080,2576,1508,1672,1739,3074,1976,2302,1480,960,1582,1600,2320,1034,1488,1056,864,1552,1816,1530,1756,4211,2206,1092,1594,1480,1480,3003,2164,1519,1604,1400,1752,880,1240,1514,840,840,2592,1010,1380,1366,1681,2037,2570,936,960,1352,1060,1508,1272,2389,1210,1230,1832,1854,2268,1807,1272,1560,1863,1120,1832,2092,2702,1040,1758,2326,2340,2058,944,640,2353,2038,1469,2219,1774,1296,2289,2463,3126,2550,1182,1890,1944,2815,1040,1638,2206,3170,2328,2737,2879,2158,1336,1594,1603,2190,1478,1348,1558,1574,1612,1216,2256,1170,1456,1320,2076,1326,2240,2100,1129,2296,1475,1268,1816,1632,1254,1272,1604,2474,2057,1852,2242,1564,960,1680,1428,1672,2284,1286,1250,1896,2592,1904,1680,1152,1290,2396,3090,1428,1631,1368,1134,1697,1666,1738,1457,1632,2186,2117,936,3347,1824,2592,1080,3148,2128,1616,3313,2327,1640,1421,1280,3467,1250,1368,1396,2004,2242,2786,2242,1404,1600,1408,972,4856,2885,1560,1472,2124,2162,2515,2294,1744,2022,1578,3400,1744,2560,1398,2494,2208,2550,1812,1290,1172,4128,1816,2628,1254,1660,1850,1258,1219,1850,2103,1806,1674,2242,1408,3457,1728,2354,2246,1902,1178,2896,2457,936,934,1279,1888,1686,2310,1200,1944,1184,2000,1744,1620,2359,2230,1147,2205,3243,1431,936,1368,1800,1920,1416,616,1488,1320,1250,1286,2886,1279,1074,1304,3191,1056,1468,1598,1160,1028,2014,1296,932,1290,1448,1368,3046,1272,1822,1579,1660,2452,2004,4210,1640,2847,1816,2028,775,1368,936,1680,1368,1326,1579,1286,2132,2000,2222,2641,2472,1926,1534,1490,1126,1435,1136,2162,2328,2754,1504,2473,2072,1480,2096,1050,1650,1596,979,1393,864,2744,2300,1612,2640,775,2470,3124,3254,1544,1410,906,1512,1232,921,1287,2600,1302,1144,1703,1553,1040,2124,1344,884,1812,880,1256,1826,1134,1916,1272,960,1152,840,2106,1632,1092,1634,1890,2224,1475,1480,1368,1200,840,1176,1380,1786,1480,1574,950,3178,1342,1336,1542,2272,1480,2506,1852,1055,1392,1608,1564,2068,2516,1684,1481,999,896,792,2747,2277,1281,2462,2897,2672,1932,1320,3296,3279,3204,1217,1782,1180,1452,2140,1219,1518,3328,2344,960,1544,2873,1180,1368,1904,1320,1594,1847,3125,2004,1623,1120,2363,2572,1548,2734,1462,1558,1664,1877,1838,2368,2104,1180,2399,1232,1180,2022,1364,1343,1492,999,2102,1656,1561,988,1765,912,1592,1344,1385,1385,1679,908,1527,912,1184,1719,1080,2118,2527,1592,1294,1974,988,1508,908,1910,912,912,988,1748,912,1385,1300,908,1900,2191,1080,1300,2458,1040,2886,1840,1988,672,1512,912,912,1385,1508,1385,1628,1592,1344,1385,1385,1679,908,1527,912,1184,1719,1080,2118,2527,1592,1294,1974,988,1508,908,1910,912,912,988,1748,912,1385,1300,908,1900,2191,1080,1300,2458,1040,2886,1840,1988,672,1512,1635,1672,1892,1652,2513,3336,1302,2006,1836,1994,1652,1888,1480,1234,1778,2514,2700,2330,2676,2180,2284,1314,2396,2088,2310,2040,2599,1702,2125,2310,1431,924,1799,976,2217,1969,2376,1585,1453,2973,1612,2734,1479,945,1938,1364,3242,1571,1314,2413,900,3157,908,924,1138,2310,1874,1228,1479,1612,2088,2131,924,1692,1568,2262,2960,1683,2680,2742,2012,2702,1314,1672,1200,1700,2652,3062,1290,1012,2310,2026,1404,1782,2002,1782,2212,1872,1804,1910,1632,3824,1196,2259,1690,1227,1278,668,2762,1558,1352,1920,1940,1249,1576,1419,1700,2748,1792,1724,2692,1734,2014,2056,1745,1352,2259,2572,924,2000,929,1540,1730,1500,2522,1479,1922,1215,2772,2574,945,2914,1480,1914,1354,2302,1234,1480,1665,2182,924,1220,1480,1375,2003,1480,1480,1456,1888,1112,1480,1480,1836,1522,2709,1020,2208,1368,2488,1865,3174,2944,960,3142,1666,708,1598,1564,1224,1379,2310,960,960,1820,1632,1594,1290,1560,1453,1664,2169,1420,1441,1016,2947,1652,1927,960,1804,2616,1116,2147,876,2102,1776,1996,1759,1014,2270,1548,1620,2608,1080,1140,1152,1056,1257,936,1140,960,1058,768,2048,1198,2430,918,2722,2364,1440,1744,2280,1736,883,1001,1296,2304,2076,1468,1272,1900,1548,2212,2376,1712,2660,1487,1532,2486,1918,1270,1406,1385,1300,3259,1536,1636,1944,1676,1040,1800,1394,1885,1056,1593,1436,1668,1302,1239,840,780,1728,1666,2022,2225,1023,1290,3968,1699,2137,1428,936,2586,1373,1272,1368,2120,1279,1104,1092,2247,1146,3250,1920,1932,1620,1640,1040,1676,1991,1908,966,1815,1664,1216,1564,2752,936,1617,1452,1911,1580,1920,1155,3770,1675,912,1510,864,1600,1744,3208,1290,1900,2808,1576,1118,1752,1753,2186,1800,2462,1286,1337,1170,1185,2424,1828,2176,2000,1340,1208,2244,1592,1831,1093,1460,2128,1368,2200,2310,1776,1852,1092,2247,1311,1392,1116,812,1872,1248,1702,1346,1596,884,814,720,2051,1590,1202,2016,1274,960,1056,1820,2486,1890,1274,1716,1336,1392,2346,1475,1248,1920,2040,2649,1500,3163,1343,1573,1270,1316,3092,1328,2560,1343,3250,3086,1080,1120,2876,1281,2900,1512,2879,2537,1056,1296,1512,1338,2368,1528,1857,3320,2227,2742,2988,1656,1760,1702,1682,1180,2885,1281,1596,1184,2745,2680,2483,1188,2366,1508,792,3285,1673,2000,1561,2828,1592,1184,1708,1276,1184,908,1612,912,1508,1492,874,1573,1227,2494,912,988,2762,2625,1222,3144,1173,908,2274,908,1540,1196,1780,2670,1581,1592,2011,1391,2636,1656,1518,1182,1836,1529,2715,1184,1120,1008,1008,2077,1572,1874,768,1552,2331,960,1720,1437,1510,3021,1960,2112,2917,912,2244,1202,2601,2492,2680,2271,2012,920,2111,1184,2627,2641,1736,1656,1168,1385,969,1508,1602,912,1128,1514,1535,2722,2711,3020,2712,2556,1184,912,2212,1602,3285,1406,1472,1072,2504,1184,912,2120,3344,2243,908,2714,1360,1719,1404,2134,912,1423,2044,896,1380,960,840,1820,2144,1610,1752,1729,1056,1292,832,2256,1274,1608,1868,1554,3604,1887,1326,1876,1672,2064,1138,1814,2380,976,2886,2483,1846,2592,1792,2588,1210,1290,2444,2376,1480,1375,2676,1778,2570,1272,1852,2298,2259,2426,1480,1244,1479,2358,1453,2080,1960,2600,1897,1872,1260,1228,1956,1480,1793,2078,1666,2378,1452,1792,2290,3511,1922,2263,1672,1902,1479,1314,1302,2310,2880,1948,1613,2803,1479,2147,1314,2330,1352,2276,2162,2091,2564,2050,1768,2497,1290,1776,1480,1910,2828,2535,2576,1500,1480,2250,1831,2214,1846,1302,2212,1783,1480,1794,1918,1480,1756,2499,2310,2950,2702,2288,1838,2310,1152,1577,2175,1375,1616,1954,2728,2553,1963,2564,1792,1663,2070,2588,2276,1732,2310,1742,2802,1902,2030,1498,2116,2108,1480,2427,1348,1391,3422,2686,1034,1072,1512,1008,1480,912,1480,1558,2648,2248,1461,1470,1900,2054,1480,1822,1620,2120,3009,1791,1480,1300,1480,1876,1564,1248,1480,2281,2395,1915,1400,1104,1796,1512,1646,1868,1301,1652,1056,2312,2072,1200,1764,960,988,1514,1320,2719,1796,1709,3008,1350,1200,1857,2305,2184,1668,2712,912,1508,1232,1836,4486,2204,1184,2184,1668,2712,912,1508,1232,960,1836,1836,1803,1463,1290,2310,1664,1479,2483,2480,2699,1676,2816,1966,2112,2762,2184,1480,1624,1650,1313,2600,945,1121,2288,2718,2464,2426,2310,2564,1099,1225,1959],[2,3,4,3,2,4,4,4,3,3,7,3,2,3,3,3,3,4,2,3,3,3,3,3,3,4,3,4,4,3,2,3,3,3,4,4,4,4,4,4,3,4,3,3,4,4,2,3,4,2,3,2,3,3,3,3,2,3,3,3,2,3,3,4,2,4,3,4,3,3,4,3,4,3,4,4,3,3,4,3,2,3,3,3,3,2,4,3,3,4,3,3,3,3,3,3,3,3,2,3,3,3,2,3,3,3,3,4,2,3,3,3,3,3,4,3,3,3,3,3,3,2,3,4,3,4,2,3,3,2,2,4,4,4,2,5,3,3,3,3,4,3,4,2,3,3,3,2,2,2,4,2,3,2,3,3,2,3,2,3,3,4,3,4,6,3,4,2,2,4,4,3,4,2,4,4,2,4,4,2,3,3,3,5,3,3,4,3,3,3,3,3,4,3,2,2,3,3,2,2,4,3,2,3,3,4,3,2,3,4,5,2,2,4,2,2,2,3,3,3,3,4,1,3,3,2,2,2,2,3,3,3,2,3,3,2,2,2,3,2,2,3,4,2,2,2,4,3,4,3,4,3,3,2,2,2,3,2,4,2,2,3,4,2,2,2,3,3,4,4,3,3,3,3,4,2,2,4,3,2,4,3,3,3,3,4,5,4,4,4,4,3,2,3,4,3,2,5,4,4,3,2,5,3,2,2,3,4,2,3,3,4,3,4,4,3,3,4,3,4,3,5,4,3,4,3,4,2,3,3,4,4,4,4,5,3,4,5,2,3,3,3,3,3,3,5,3,3,4,4,3,4,4,4,1,4,5,3,3,4,3,3,4,4,5,4,4,3,4,4,3,4,4,2,2,3,2,3,4,3,3,4,3,3,2,4,4,4,3,5,3,3,4,3,4,4,5,3,4,2,3,4,2,3,4,4,4,4,3,4,3,4,4,3,5,4,4,4,7,3,4,3,2,3,4,4,2,3,3,3,3,3,3,4,5,3,2,7,3,3,4,2,2,3,3,4,2,3,3,1,2,4,3,3,3,3,3,3,2,2,3,4,3,4,6,2,3,4,3,3,3,4,3,3,2,2,4,3,3,2,3,3,3,1,2,4,4,4,3,4,4,4,5,4,3,2,4,3,4,3,4,4,4,4,4,4,3,3,3,3,4,3,2,3,3,4,3,4,3,3,3,4,3,4,4,2,4,3,3,3,4,2,3,4,4,3,3,3,4,3,2,2,3,3,3,3,4,3,2,3,2,3,4,4,3,3,3,3,3,3,4,2,3,3,3,3,6,4,3,2,5,3,3,4,3,4,3,2,4,3,3,3,3,3,4,3,3,3,2,3,5,3,2,3,3,3,4,4,4,3,3,3,3,3,3,3,4,3,2,2,2,3,3,4,3,4,3,3,3,3,3,3,2,3,3,3,3,3,3,2,3,4,3,3,2,3,3,4,2,3,3,3,3,3,3,4,3,2,3,4,3,3,3,3,3,3,2,4,3,2,3,4,3,3,3,3,3,3,3,3,2,6,3,2,3,2,3,4,3,4,4,4,3,3,4,4,3,3,4,2,2,3,2,3,3,3,3,3,3,3,4,3,2,3,3,3,3,3,3,3,3,4,4,4,3,3,2,2,3,3,2,2,4,3,3,4,1,4,4,4,3,6,2,3,3,2,3,4,3,3,3,3,2,4,3,2,3,3,3,3,3,4,3,3,2,2,5,3,3,3,3,5,3,3,3,3,2,3,3,3,3,3,2,4,3,2,3,4,2,4,4,2,3,3,3,4,4,4,3,3,2,2,4,4,2,4,4,4,3,3,4,4,4,2,3,2,3,4,2,4,4,3,2,3,4,2,3,4,3,3,3,4,4,3,3,5,4,3,3,3,2,3,4,3,4,5,2,4,2,2,4,2,2,3,3,3,3,3,2,5,2,3,5,2,2,2,2,2,2,2,3,2,4,3,3,3,4,2,3,2,4,2,2,2,2,2,3,3,2,3,3,2,3,4,3,4,3,2,2,2,2,2,2,3,2,3,3,5,2,2,2,2,2,2,2,3,2,4,3,3,3,4,2,3,2,4,2,2,2,2,2,3,3,2,3,3,2,3,4,3,4,3,2,2,2,4,4,3,3,4,4,2,3,4,3,3,3,3,2,3,5,4,4,4,4,4,2,4,4,5,4,3,3,4,4,3,2,3,3,4,4,3,3,4,4,3,3,3,2,4,5,4,3,2,4,2,4,2,2,2,5,4,4,3,3,4,4,2,4,3,4,4,4,5,3,4,5,2,3,2,3,5,4,2,3,4,3,3,3,3,4,4,4,4,3,3,3,3,4,3,2,3,1,4,3,3,5,3,3,3,3,3,4,3,3,3,4,3,4,4,2,4,3,2,3,2,4,3,3,4,3,4,2,5,4,2,4,3,3,3,4,2,3,4,3,2,3,3,2,3,2,3,3,3,3,2,2,3,4,3,3,4,3,4,3,4,5,3,4,4,2,3,3,3,3,4,2,3,4,3,2,3,3,4,3,3,3,3,3,4,3,3,3,3,4,2,2,2,4,3,3,3,3,4,3,3,4,3,3,3,2,3,2,3,2,2,2,4,2,4,3,4,4,3,3,4,3,1,2,3,3,3,4,3,3,3,4,4,3,4,3,3,4,3,3,2,2,3,4,3,4,3,3,3,3,3,2,3,3,4,4,3,3,2,2,3,3,3,4,2,2,5,4,4,2,3,4,3,3,3,4,2,2,3,4,4,3,4,3,3,3,5,4,3,4,3,2,3,2,3,4,3,4,3,3,3,3,4,4,2,3,3,2,4,3,4,2,2,3,3,3,3,3,3,2,5,5,3,2,3,4,3,4,3,3,3,4,3,3,2,2,3,3,3,2,3,3,2,4,3,3,4,2,4,3,2,2,3,3,2,2,3,2,3,3,3,3,3,3,4,3,4,4,2,3,4,3,3,4,4,3,3,4,2,3,3,3,4,3,4,2,4,3,2,2,5,2,4,2,4,4,3,2,2,3,4,3,4,4,4,4,5,3,3,4,3,2,4,2,3,3,4,4,3,3,4,3,2,4,2,4,3,4,3,3,2,2,2,2,3,2,3,3,3,4,3,3,2,2,4,4,2,4,3,2,4,2,3,4,3,4,3,3,4,2,4,3,3,3,3,2,4,2,3,3,3,3,3,4,2,3,4,2,3,3,3,4,4,3,4,2,3,2,4,3,4,3,3,3,3,3,4,4,3,3,3,2,2,3,2,2,2,3,3,4,4,4,4,4,3,2,4,2,4,2,3,2,5,2,2,3,4,3,2,4,3,3,3,4,2,3,3,2,3,3,2,4,3,3,3,4,3,3,3,4,3,3,3,3,6,4,3,3,3,4,2,3,4,2,4,4,3,4,3,4,3,2,4,4,3,2,4,3,5,2,3,4,4,4,3,2,3,4,4,4,3,4,4,4,2,3,4,3,4,4,3,3,3,3,4,4,4,4,4,3,2,2,2,5,4,2,3,4,3,4,2,4,3,5,4,4,4,4,3,3,2,3,3,4,3,4,4,3,3,3,3,4,3,2,4,4,2,3,4,3,4,4,5,4,4,3,4,4,3,3,4,2,3,4,4,4,4,4,3,3,4,4,5,4,5,4,4,4,4,2,3,4,2,3,2,3,4,4,2,2,3,2,3,3,3,3,4,4,3,3,3,4,2,3,3,4,5,4,2,3,3,3,3,3,2,4,3,4,3,4,3,3,3,3,3,3,3,3,3,2,3,3,2,3,3,3,3,3,4,3,3,3,4,3,3,4,2,3,3,4,6,3,3,3,3,4,2,3,3,3,4,4,4,3,2,5,3,3,4,4,6,3,5,3,4,4,3,3,3,3,2,4,2,3,3,4,4,4,5,4,2,3,3],["No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>price<\/th>\n      <th>livingArea<\/th>\n      <th>bedrooms<\/th>\n      <th>waterfront<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>


---

## Immobilienpreise in einer schicken Wohngegend vorhersagen


.pull-left[
.center[
"Finden Sie den Wert meiner Immobilie heraus! &lt;/br&gt;
Die muss viel wert sein!"

.xxxlarge[üßë]

Das ist Don, Immobilienmogul, Auftraggeber.
]
]


.pull-right[
.center[
"Das finde ich heraus. &lt;/br&gt;
Ich mach das wissenschaftlich."
&lt;/br&gt;
&lt;/br&gt;

.xxxlarge[üë© üî¨]

Das ist Angie, Data Scientistin.
]
]

---

## Modell 1: Preis als Funktion der Anzahl der Zimmer


.left-column[

&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;

.center["Hey Don! Mehr Zimmer, mehr Kohle!"]

.xxxlarge[üë© üî¨]

]


.right-column[

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-15-1.png" width="100%" style="display: block; margin: auto;" /&gt;


]

---

## Posteriori-Verteilung von Modell 1


.left-column[


.center["Jedes Zimmer mehr ist knapp 50 Tausend wert. Dein Haus hat einen Wert von etwa 150 Tausend."]

.xxxlarge[üë©]

.center["Zu wenig! ü§¨"]
.xxxlarge[üßë]
]


.right-column[


```r
m1 &lt;- stan_glm(price ~ bedrooms,
               refresh = 0,
               data = d)
coef(m1)
```

```
## (Intercept)    bedrooms 
##    59830.91    48268.24
```


```r
dons_house &lt;- tibble(bedrooms = 2)
mean(posterior_predict(m1, dons_house))
```

```
## [1] 156914.4
```

]

---

## Don hat eine Idee 



.pull-left[
.center[
"Ich bau eine Mauer! &lt;/br&gt;
In jedes Zimmer! &lt;/br&gt;
Genial! &lt;/br&gt;
An die Arbeit, Angie! &lt;/br&gt;
.xxxlarge[üßë]
]
]


.pull-right[
.center[
"Das ist keine gute Idee, Don."
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;


.xxxlarge[üë©]
]
]



```r
dons_new_house &lt;- tibble(bedrooms = 4)
mean(posterior_predict(m1, dons_new_house))
```

```
## [1] 251324.4
```

### Mit 4 statt 2 Schlafzimmer steigt der Wert auf 250k, laut `m1`.


"Volltreffer! Jetzt verdien ich 100 Tausend mehr! ü§ë"
.xxxlarge[üßë]

---


## R-Funktionen, um Beobachtungen vorhersagen 



- `posterior_predict()`: ([Hilfeseite](https://mc-stan.org/rstanarm/reference/posterior_predict.stanreg.html))
    - Was macht der Befehl? Zieht Stichproben aus der PPV.
    - Wozu braucht man den Befehl?
        - Um neue Beobachtungen vorherzusagen; falls man z.B. an einem Vorhersage-Wettbewerb teilnimmt ü§ì.
        - Um die Modellg√ºte zu pr√ºfen: sagt unser Modell den Datensatz gut vorher?
        
- `predictive_intervals()`: ([Hilfeseite](https://mc-stan.org/rstanarm/reference/predictive_interval.stanreg.html))
    - Was macht der Befehl? Berechnet Perzentilintervalle auf Basis der PPV.
    - Wozu braucht man den Befehl? Um die Ungenauigkeit (Ungewissheit) des Modells einzusch√§tzen.
    
- `predictive_error()`: ([Hilfeseite](https://mc-stan.org/rstanarm/reference/predictive_error.stanreg.html))
    - Was macht der Befehl: Berechnet die Vorhersagefehler (Residuen): `\(r=y-\hat{y}\)`. 
    - Wozu braucht man den Befehl? Ein anderer Blickt auf die Ungewissheit des Modells.
---


## Modell 2: Preis als Funktion von Zimmerzahl und von Quadratmetern


Modell 2 hat schlechte Nachrichten f√ºr Don.


```r
m2 &lt;- stan_glm(price ~ bedrooms + livingArea, data = d)
```


```r
coef(m2)
```

```
## (Intercept)    bedrooms  livingArea 
##  36793.2450 -14238.3568    125.3623
```





```r
mean(posterior_predict(m2, newdata = tibble(bedrooms = 4, livingArea = 1200)))
```

```
## [1] 130070.5
```



.pull-left[
.center[
"Die Zimmer zu halbieren,
hat den Wert des Hauses *verringert*,
Don!"
.xxxlarge[üë©]
]
]


.pull-right[
.center[
"Halbiert!? Weniger Geld?!
Oh nein!"
&lt;/br&gt;


.xxxlarge[üßë]
]
]







---

## Die Zimmerzahl ist negativ mit dem Preis korreliert 

... wenn man die Wohnfl√§che (Quadratmeter) kontrolliert.



**Ne-Ga-Tiv!**
.xxxlarge[üë©]















&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-42-1.png" width="100%" style="display: block; margin: auto;" /&gt;



.footnote[[Quellcode](https://github.com/sebastiansauer/QM2-Folien/blob/main/Themen/children/Hauspreis-stratifizieren.Rmd)]

---

## Kontrollieren von Variablen


üí° Durch das Aufnehmen von Pr√§diktoren in die multiple Regression werden die Pr√§diktoren *kontrolliert* (adjustiert, konditioniert):

- Die Koeffizienten einer multiplen Regression zeigen den Zusammenhang `\(\beta\)` des einen Pr√§diktors mit `\(y\)`, wenn man den (oder die) anderen Pr√§diktoren statistisch *konstant h√§lt*. 

- Man nennt die Koeffizienten einer multiplen Regression daher auch *parzielle Regressionskoeffizienten*. Manchmal spricht man auch vom "Netto-Effekt" eines Pr√§diktors, oder davon, dass ein Pr√§diktor "bereinigt" wurde vom (linearen) Einfluss der anderen Pr√§diktoren auf `\(y\)`.

- Damit kann man die Regressionskoeffizienten so interpretieren, dass Sie den Effekt des Pr√§diktors `\(x_1\)` auf `\(y\)` anzeigen *unabh√§ngig* vom Effekt der anderen Pr√§diktoren, `\(x_2,x_3,...\)` auf `\(y\)`

- Man kann sich dieses Konstanthalten vorstellen als eine Aufteilung in Gruppen: Der Effekt eines Pr√§diktors `\(x_1\)` wird f√ºr jede Auspr√§gung (Gruppe) des Pr√§diktors `\(x_2\)` berechnet.

---


## Das Hinzuf√ºgen von Pr√§diktoren kann die Gewichte der √ºbrigen Pr√§diktoren √§ndern





.pull-left[
.center[
"Aber welche und wie viele Pr√§diktoren soll ich denn jetzt in mein Modell aufnehmen?!

Und welches Modell ist jetzt richtig?!"
&lt;/br&gt;
&lt;/br&gt;
.xxxlarge[üßë]
]
]


.pull-right[
.center[
"Leider kann die Statistik keine Antwort darauf geben."

&lt;/br&gt;
&lt;/br&gt;


.xxxlarge[üë©]
]
]

### In Beobachtungsstudien hilft nur ein (korrektes) Kausalmodell

---

## Welches Modell richtig ist, kann die Statistik nicht sagen

&gt;   Often people want statistical modeling to do things that statical modeling cannot do.
For exmaple, we'd like to know wehter an effect is "real" or rather spurios.
Unfortunately, modeling merely quantifies uncertainty in the precise way that the model understands the problem.
Usually answer to lage world questions about truth and causation depend upon information not included in the model.
For example, any observed occrelatio nbetween an outcome and preedcitor could be eliminated or reversed once another predictor is added to the model.
But if we cannot think of the right variable,
we might never notice.
Therefore all statical models are vulnerable to and demand critique,
regardless of the precision of their estimates
and apparaent accuracy of their predictions.
Rpoudns of model criticism and revision emofy the reald tests of scientific hyptoheses.
A true hypothesis will pass and fail many statistical "tests" on its way to acceptance.


&lt;a name=cite-mcelreath_statistical_2020&gt;&lt;/a&gt;([McElreath, 2020](#bib-mcelreath_statistical_2020), S. 139)


---

## Kausalmodell f√ºr Konfundierung, `km1`




&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-22-1.png" width="100%" style="display: block; margin: auto;" /&gt;

Wenn dieses Kausalmodell stimmt, findet man eine *Scheinkorrelation* zwischen `price` und `bedrooms`.

Eine Scheinkorrelation ist ein Zusammenhang, der *nicht* auf eine kausalen Einfluss beruht.

`d_connected` hei√üt, dass die betreffenden Variablen "verbunden" sind durch einen gerichteten (`d` wie directed) Pfad, durch den die Assoziation (Korrelation) wie durch einen Fluss flie√üt üåä. `d_separated` hei√üt, dass sie nicht `d_connected` sind.


---

## `m2` kontrolliert die Konfundierungsvariable `livingArea`

Wenn das Kausalmodell stimmt, dann zeigt `m2` den kausalen Effekt von `livingArea`.


.left-column[
.center[

"Was tun wir jetzt blo√ü?!"
.xxxlarge[üßë]

&lt;/br&gt;

"Wir m√ºssen die Konfundierungs-
variable kontrollieren.

.xxxlarge[üë©]

]
]



.right-column[




&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-23-1.png" width="100%" style="display: block; margin: auto;" /&gt;

Durch das Kontrollieren ("adjustieren"), sind `bedrooms` und `price` nicht mehr korreliert, nicht mehr `d_connected`, sondern jetzt `d_separeted`.

]


---

## Konfundierer kontrollieren










.pull-left[
Ohne Kontrollieren der Konfundierungsvariablen

Regressionsmodell:
`y ~ x`

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-25-1.png" width="100%" style="display: block; margin: auto;" /&gt;

Es wird (f√§lschlich) eine Korrelation zwischen `x` und `y`  angezeigt: Scheinkorrelation.

]


.pull-right[
Mit Kontrollieren der Konfundierungsvariablen


Regressionsmodell:
`y ~ x + group`

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-26-1.png" width="100%" style="display: block; margin: auto;" /&gt;

Es wird korrekt gezeigt, dass es keine Korrelation zwischen `x` und `y` gibt, wenn `group` kontrolliert wird.

]




.footnote[[Quellcode](https://github.com/sebastiansauer/QM2-Folien/blob/main/Themen/children/Konfundierer-kontrollieren.Rmd)]

---

## `m1` und `m2` passen nicht zu den Daten, wenn `km1` stimmt


.pull-left[

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-27-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]

.pull-right[

- Laut `km1` d√ºrfte es keine Assoziation (Korrelation) zwischen `bedrooms` und `price` geben, wenn man `livingArea` kontrolliert.
- Es gibt aber noch eine Assoziation zwischen `bedrooms` und `price` geben, wenn man `livingArea` kontrolliert.
- Daher sind sowohl `m1` und `m2` nicht mit dem Kausalmodell `km1` vereinbar.

]



---

## Kausalmodell 2, `km2` 

Unser Modell `m2` sagt uns, 
dass beide Pr√§diktoren jeweils einen eigenen Beitrag zur Erkl√§rung der AV haben.


.pull-left[
- Daher k√∂nnte das folgende Kausalmodell, `km2` besser passen.

- In diesem Modell gibt es eine *Wirkkette*: `\(a \rightarrow b \rightarrow p\)`.

- Insgesamt gibt es zwei Kausaleinfl√ºsse von `a` auf `p`:
    - `\(a \rightarrow p\)`
    - `\(a \rightarrow b \rightarrow p\)`

- Man nennt die mittlere Variable einer Wirkkette auch einen *Mediator* und den Pfad von der UV (`a`) √ºber den Mediator (`b`) zur AV (`p`) auch *Mediation*.

]

.pull-right[
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-28-1.png" width="100%" style="display: block; margin: auto;" /&gt;


]

---

## Schoki macht Nobelpreis! (?)

Eine Studie fand eine starke Korrelation, `\(r=0.79\)` zwischen (H√∂he des) Schokoladenkonsums eines Landes und (Anzahl der) Nobelpreise eines Landes &lt;a name=cite-messerli_chocolate_2012&gt;&lt;/a&gt;([Messerli, 2012](http://www.nejm.org/doi/abs/10.1056/NEJMon1211064)).


&lt;img src="https://i0.wp.com/knowingneurons.com/wp-content/uploads/2013/06/correlation_550.png?w=550&amp;ssl=1" width="50%" style="display: block; margin: auto;" /&gt;



üí£ Korrelation ungleich Kausation!









---

## Kausalmodell f√ºr die Schoki-Studie



&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-30-1.png" width="100%" style="display: block; margin: auto;" /&gt;

---

## Dons Kausalmodell, `km3`


.pull-left[
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-31-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]








.pull-right[
.center[

"Ich glaube aber an dieses Kausalmodell. 
Der Experte bin ich !"
.xxxlarge[üßë]

&lt;/br&gt;

"Don, nach deinem Kausalmodell m√ºssten `bedrooms` und `livingArea` unkorreliert sein. Sind sie aber nicht."

```
## # A tibble: 1 √ó 1
##   `cor(bedrooms, livingArea)`
##                         &lt;dbl&gt;
## 1                       0.656
```


.xxxlarge[üë©]

]
]







---


## Unabh√§ngigkeiten laut `km1`

`b`: bedrooms, `p`: price, `a` area (living area)


.pull-left[
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-33-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
`\(b \indep p \, |\, a\)`: `bedrooms` sind unabh√§ngig von `price`, wenn man `livingArea` kontrolliert.

‚õàÔ∏è Passt nicht zu den Daten/zum Modell
]


---

## Unabh√§ngigkeiten laut `km2`

`b`: bedrooms, `p`: price, `a` area (living area)



.pull-left[
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-34-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
keine Unabh√§ngigkeiten

‚ùì Passt zu den Daten/zum Modell
]


---

## Unabh√§ngigkeiten laut `km3`

`b`: bedrooms, `p`: price, `a` area (living area)




.pull-left[
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-35-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
`\(b \indep a\)`: `bedrooms` sind unabh√§ngig von `livingArea` (`a`)

‚õàÔ∏è Passt nicht zu den Daten/zum Modell
]


---

## DAGs: Directed Acyclic Graphs


.pull-left[
- DAGs sind eine bestimmte Art von Graphen zur Analyse von Kausalstrukturen.

- Ein *Graph* besteht aus Knoten (Variablen) und Kanten (Linien), die die Knoten verbinden.

- DAGs sind *gerichtet*; die Pfeile zeigen immer in eine Richtung (und zwar von Ursache zu Wirkung).

- DAGs sind *azyklisch*; die Wirkung eines Knoten darf nicht wieder auf ihn zur√ºckf√ºhren. 

- Ein *Pfad* ist ein Weg durch den DAG, von Knoten zu Knoten √ºber die Kanten, unabh√§ngig von der Pfeilrichtung.

]

.pull-right[

### DAG von `km1`

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-36-1.png" width="100%" style="display: block; margin: auto;" /&gt;



]


---

## Leider passen potenziell viele DAGs zu einer Datenlage

`b`: bedrooms, `p`: price, `a` area (living area)



&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-37-1.png" width="100%" style="display: block; margin: auto;" /&gt;



---


## Was ist eigentlich Kausation?



.pull-left[
.bg-washed-blue.b--dark-blue.ba.bw2.br3.shadow-5.ph4.mt5[
  Wei√ü man, was die Wirkung `\(W\)` einer Handlung `\(H\)` (Intervention) ist,
  so hat man `\(H\)` als Ursache von `\(W\)` erkannt.
  ]
  
  
([McElreath, 2020](#bib-mcelreath_statistical_2020))




]


.pull-right[

&lt;/br&gt;
&lt;/br&gt;

&lt;img src="https://imgs.xkcd.com/comics/correlation.png" width="100%" style="display: block; margin: auto;" /&gt;


[Quelle](https://xkcd.com/552/) und [Erkl√§rung](https://www.explainxkcd.com/wiki/index.php/552:_Correlation)
]



---


## Fazit

- Sind zwei Variablen korreliert (abh√§ngig, assoziiert), so kann es daf√ºr zwei Gr√ºnde geben:
    - Kausaler Zusammenhang
    - Nichtkausaler Zusammenhang ("Scheinkorrelation")
    
- Eine m√∂gliche Ursache einer Scheinkorrelation ist Konfundierung.

- Konfundierung kann man entdecken, indem man die angenommene Konfundierungsvariable kontrolliert (adjustiert), z.B. indem man ihn als Pr√§diktor in eine Regression aufnimmt.

- Ist die Annahme einer Konfundierung korrekt, so l√∂st sich der Scheinzusammenhang nach dem Adjustieren auf.

- L√∂st sich der Scheinzusammenhang nicht auf, sondern drehen sich die Vorzeichen der Zusammenh√§nge nach Adjustieren um, so spricht man einem *Simpson Paradox*.

- Die Daten alleine k√∂nnen nie sagen, welches Kausalmodell der Fall ist in einer Beobachtungsstudie. Fachwissen (inhaltliches wissenschaftliches Wisseen) ist n√∂tig, um DAGs auszuschlie√üen.


---
















name: teil-3
class: middle, center



# Teil 3

## Kollision









---


## Kein Zusammenhang von Intelligenz und Sch√∂nheit





&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-45-1.png" width="100%" style="display: block; margin: auto;" /&gt;

.footnote[[Gott ist gerecht (?)](https://twitter.com/TheTweetOfGod/status/1462594155176026123)]

---



## Aber Ihre Dates sind entweder schlau oder sch√∂n






&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-47-1.png" width="100%" style="display: block; margin: auto;" /&gt;

Wie kann das sein?

---


## DAG zur Rettung 

Dieser DAG bietet eine rettende Erkl√§rung:


.pull-left[
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-48-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]



.pull-right[

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-49-1.png" width="100%" style="display: block; margin: auto;" /&gt;





]

---

## Was ist eine Kollision?

.pull-left[

- Als *Kollision* (Kollisionsverzerrung, Auswahlverzerrung, engl. collider) bezeichnet man einen DAG, bei dem eine Wirkung zwei Ursachen hat (eine gemeinsame Wirkung zweier Ursachen).
- Kontrolliert man  die *Wirkung* `m`, so entsteht eine Scheinkorrelation zwischen den Ursachen `x` und `y`.
- Kontrolliert man die Wirkung nicht, so entsteht keine Scheinkorrelation zwischen den Ursachen.


]


.pull-right[

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-51-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]

Vgl. &lt;a name=cite-rohrer_thinking_2018&gt;&lt;/a&gt;[Rohrer (2018)](https://doi.org/10.1177/2515245917745629).


Man kann also zu viele oder falsche Pr√§diktoren einer Regression hinzuf√ºgen, so dass die Koeffizienten nicht die kausalen Effekte zeigen, sondern durch Scheinkorrelation verzerrte Werte.

---

## Einfaches Beispiel zur Kollision


.pull-left[
- In der Zeitung *Glitzer* werden nur folgende Menschen gezeigt:
    - Sch√∂ne Menschen
    - Reiche Menschen
    
- Gehen wir davon aus, dass Sch√∂nheit und Reichtum unabh√§ngig voneinander sind.

- Wenn ich Ihnen sage, dass Don nicht sch√∂n ist, was lernen wir dann √ºber seine finanzielle Situation?

]


.pull-right[

&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;

.center[
"Ich bin sch√∂n, unglaublich sch√∂n, und gro√ü, gro√üartig, tolle Gene!!!"

.xxxlarge[üßë]
]

]


---


## Noch ein einfaches Beispiel zur Kollision

.left-column[


&lt;/br&gt;
&lt;/br&gt;

.center[
"So langsam check ich's!"

.xxxlarge[üßë]
]
]



.right-column[

- Sei Z = X + Y, wobei X und Y unabh√§ngig sind.

- Wenn ich Ihnen sage, X = 3, lernen Sie nichts √ºber Y, da die beiden Variablen unabh√§ngig sind

- Aber: Wenn ich Ihnen zuerst sage, Z = 10, und dann sage, X = 3, wissen Sie sofort, was Y ist (Y = 7).

- Also: X und Y sind abh√§ngig ‚Äì gegeben Z: `\(X \notindep Y \,|\, Z\)`.
]

---


## Durch Kontrolle entsteht eine Verzerrung bei der Kollision


.pull-left[


&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-52-1.png" width="100%" style="display: block; margin: auto;" /&gt;


]



.pull-right[


&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-53-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]

- Ohne Kontrolle von `date` entsteht keine Scheinkorrelation zwischen `Looks` und `Talent`. Der Pfad ("Fluss") von `Looks` √ºber `date` nach `Talent` ist blockiert.

- Kontrolliert man `date`, so *√∂ffnet* sich der Pfad `Looks`-&gt;`date`-&gt; `Talent` und die Scheinkorrelation entsteht: Der Pfad ist nicht mehr blockiert.

- Das Kontrollieren von `date` geht zumeist durch Bilden einer Auswahl einer Teilgruppe von sich.



---

## IQ, Fleiss und Eignung f√ºrs Studium


.pull-left[

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-54-1.png" width="100%" style="display: block; margin: auto;" /&gt;

Bei positiver `eignung` wird ein Studium aufgenommen (`studium = 1`) ansonsten nicht (`studium = 0)`. 


[Quelle](https://data-se.netlify.app/2020/04/16/simulation-berkson-s-paradox/)



]


.pull-right[

`eignung` (f√ºrs Studium) sei definiert als die Summe von `iq` und `fleiss`, plus etwas Gl√ºck:


```r
set.seed(42)  # Reproduzierbarkeit
N &lt;- 1e03

d_eignung &lt;-
tibble(
  iq = rnorm(N),
  fleiss = rnorm(N),
  glueck = rnorm(N, 0, sd = .1),
  eignung = 
    1/2 * iq + 1/2 * fleiss + 
    glueck,
  studium = ifelse(eignung &gt; 0, 
                   1, 0)
  )
```


]



---

## Schlagzeile "Schlauheit macht faul!"

Eine Studie untersucht den Zusammenhang von Intelligenz und Flei√ü bei Studentis.

Ergebnis: Ein negativer Zusammenhang. 

.pull-left[


```r
m_eignung &lt;-
  stan_glm(
    iq ~ fleiss,
    data = d_eignung %&gt;% 
      filter(studium == 1))
```


```
## (Intercept)      fleiss 
##   0.7806146  -0.4428830
```

]

.pull-right[

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-58-1.png" width="100%" style="display: block; margin: auto;" /&gt;


]





---

## Kollisionsverzerrung nur bei Stratifizierung

Nur durch das Stratifizieren (Aufteilen in Subgruppen, Kontrollieren, Adjustieren) tritt die Scheinkorrelation auf.


.pull-left[
Ohne Stratifizierung tritt keine Scheinkorrelation auf

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-59-1.png" width="100%" style="display: block; margin: auto;" /&gt;


]


.pull-right[
Mit Stratifizierung tritt Scheinkorrelation auf

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-60-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]

Kontrollieren einer Variablen - Aufnehmen in die Regression - kann genausogut schaden wie n√ºtzen.

Nur Kenntnis des DAGs verr√§t die richtige Entscheidung.


---


## Einfluss von Gro√üeltern und Eltern auf Kinder



.pull-left[

- Wir wollen den (kausalen) Einfluss der Eltern `E` und Gro√üeltern `G` auf den Bildungserfolg der Kinder `K`. untersuchen.

- Wir nehmen folgende Effekte an:
    - indirekter Effekt von `G` auf `K`: `\(G \rightarrow E \rightarrow K\)`
    - direkter Effekt von `E` auf `K`: `\(E \rightarrow K\)`
    - direkter Effekt von `G` auf `K`: `\(G \rightarrow K\)`


]

.pull-right[




&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-61-1.png" width="100%" style="display: block; margin: auto;" /&gt;


]

R-Syntax stammt von &lt;a name=cite-kurz_statistical_2021&gt;&lt;/a&gt;[Kurz (2021)](https://bookdown.org/content/4857/).



---

## Der Gespenster-DAG

.pull-left[


&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-62-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]

.pull-right[

- `U` k√∂nnte ein ungemessener Einfluss sein, der auf `E` und `K` wirkt, etwa Nachbarschaft.

- Die Gro√üeltern wohnen woanders (in Spanien), daher wirkt die Nachbarschaft der Eltern und Kinder nicht auf sie.

- `E` ist sowohl f√ºr `G` als auch f√ºr `U` eine Wirkung, also eine Kollisionsvariable auf diesem Pfad.

- Wenn wir `E` kontrollieren, wird es den Pfad `\(G \rightarrow K\)` verzerren, auch wenn wir niemals `U` messen.

]

Die Sache ist chancenlos. Wir m√ºssen den DAG verloren geben. üëª

([McElreath, 2020](#bib-mcelreath_statistical_2020), S. 180)







---












name: teil-4
class: middle, center



# Teil 4

## Die Hintert√ºr schlie√üen


---


## Zur Erinnerung: Konfundierung





.pull-left[

*Forschungsfrage*: Wie gro√ü ist der (kausale) Einfluss der Schlafzimmerzahl auf den Verkaufspreis des Hauses?

`a:` livingArea, `b`: bedrooms, `p`: prize

UV: `b`, AV: `p`

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-64-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]


.pull-right[

- Im Regressionsmodell `p ~ b` wird der kausale Effekt verzerrt sein durch die Konfundierung mit `a`.
- Der Grund f√ºr die Konfundierung sind die zwei Pfade zwischen `b` und `p`:
1. `\(b \rightarrow p\)`
2. `\(b \rightarrow a \rightarrow p\)`
- Beide Pfade erzeugen (statistische) Assoziation zwischen `b` und `p`.
- Aber nur der erste Pfad ist kausal; der zweite ist nichtkausal.
- G√§be es nur nur den zweiten Pfad und wir w√ºrden `b` √§ndern, so w√ºrde sich `p` nicht √§ndern.

]



---


## Gute Experimente zeigen den echten kausalen Effekt


.pull-left[

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-65-1.png" width="100%" style="display: block; margin: auto;" /&gt;

- Die "Hintert√ºr" der UV (`b`) ist jetzt zu!
- Der einzig verbleibende, erste Pfad ist der kausale Pfad und die Assoziation zwischen `b` und `p` ist jetzt komplett kausal.

]

.pull-right[
- Eine ber√ºhmte L√∂sung, den kausalen Pfad zu isolieren, ist ein (randomsiertes, kontrolliertes) Experiment.
- Wenn wir den H√§usern zuf√§llig (randomisiert) eine Anzahl von Schlafzimmern (`b`) zuweisen k√∂nnten (unabh√§ngig von ihrer Quadratmeterzahl, `a`), w√ºrde sich der Graph so √§ndern.
- Das Experiment *entfernt* den Einfluss von `a` auf `b`.
- Wenn wir selber die Werte von `b` einstellen im Rahmen des Experiments, so kann `a` keine Wirkung auf `b` haben.
- Damit wird der zweite Pfad, `\(b \rightarrow a \rightarrow p\)` geschlossen ("blockiert").


]

---

## Hintert√ºr schlie√üen auch ohne Experimente

- Konfundierende Pfade zu blockieren zwischen der UV und der AV nennt man auch *die Hintert√ºr schlie√üen* (backdoor criterion).

- Wir wollen die Hintert√ºre schlie√üen, da wir sonst nicht den wahren, kausalen Effekt bestimmen k√∂nnen.

- Zum Gl√ºck gibt es neben Experimenten noch andere Wege, die Hintert√ºr zu schlie√üen, wie die Konfundierungsvariable `a` in eine Regression mit aufzunehmen.

- Warum blockt das Kontrollieren von `a`den Pfad `\(b \leftarrow a \rightarrow p\)`?
- Stellen Sie sich den Pfad als eigenen Modell vor.
- Sobald Sie `a` kennen, bringt Ihnen Kenntnis √ºber `b` kein zus√§tzliches Wissen √ºber `p`.
- Wissen Sie hingegen nichts √ºber `a`, lernen Sie bei Kenntnis von `b` auch etwas √ºber `p`.
- Konditionieren ist wie "gegeben, dass Sie `a` schon kennen...".

- `\(b \indep p \,|\,a\)`

---


## Die vier Atome der Kausalanalyse




















&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-71-1.png" width="100%" style="display: block; margin: auto;" /&gt;


---

## Mediation


.pull-left[
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-72-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]

.pull-right[
- Die *Mediation* (Wirkkette, Rohr, Kette) beschreibt Pfade, in der die Kanten gleiche Wirkrichtung haben: `\(x \rightarrow m \rightarrow y\)`.
- Ohne Kontrollieren ist der Pfad offen: Die Assoziation "flie√üt" den Pfad entlang (in beide Richtungen).
- Kontrollieren blockt (schlie√üt) die Kette (genau wie bei der Gabel).
]


---

## Der Nachfahre

.pull-left[
&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-73-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
- Ein *Nachfahre* (descendent) ist eine Variable die von einer anderen Variable beeinflusst wird.
- Kontrolliert man einen Nachfahren `d`, so kontrolliert man damit zum Teil den Vorfahren (die Ursache), `m`.
- Der Grund ist, dass `d` Information beinhaltet √ºber `m`.
- Hier wird das Kontrollieren von `d` den Pfad von `x` nach `y` teilweise √∂ffnen, da `m` eine Kollisionsvariable ist.

]

---

## Kochrezept zur Analyse von DAGs

Wie kompliziert ein DAG auch aussehen mag, er ist immer aus diesen vier Atomen aufgebaut.

Hier ist ein Rezept, das garantiert, dass Sie welche Variablen Sie kontrollieren sollten und welche nicht:

1. Listen Sie alle Pfade von UV (`X`) zu AV (`Y`) auf.
2. Beurteilen Sie jeden Pfad, ob er gerade geschlossen oder ge√∂ffnet ist.
3. Beurteilen Sie f√ºr jeden Pfad, ob er ein Hintert√ºrpfad ist (Hintert√ºrpfade haben einen Pfeil, der zur UV f√ºhrt).
4. Wenn es ge√∂ffnete Hinterpfade gibt, pr√ºfen Sie, welche Variablen mann kontrollieren muss, um den Pfad zu schlie√üen (falls m√∂glich).


---


## Schlie√üen Sie die Hintert√ºr (wenn m√∂glich)!, `bsp1`

UV: `\(X\)`, AV: `\(Y\)`, drei Covariaten (A, B, C) und ein ungemessene Variable, U





&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-74-1.png" width="50%" style="display: block; margin: auto;" /&gt;



Es gibt zwei Hintert√ºrpfade:

1. `\(X \leftarrow U \leftarrow A \rightarrow C \rightarrow Y\)`, offen
2. `\(X \leftarrow U \rightarrow B \leftarrow C \rightarrow Y\)`, geschlossen

Kontrollieren von `\(A\)` oder (auch) `\(C\)` schlie√üt die offene Hintert√ºr.



([McElreath, 2020](#bib-mcelreath_statistical_2020); [Kurz, 2021](https://bookdown.org/content/4857/)), s.S. 186.


---



## Schlie√üen Sie die Hintert√ºr (wenn m√∂glich)!, `bsp2`

UV: `\(W\)`, AV: `\(D\)`

&lt;img src="Kapitel_8_chunk-img/unnamed-chunk-75-1.png" width="70%" style="display: block; margin: auto;" /&gt;

Kontrollieren Sie diese Variablen, um die offenen Hintert√ºren zu schlie√üen:

- entweder `\(A\)` und `\(M\)`
- oder `\(S\)`

[Mehr Infos](https://bookdown.org/content/4857/the-haunted-dag-the-causal-terror.html#backdoor-waffles.)



([McElreath, 2020](#bib-mcelreath_statistical_2020); [Kurz, 2021](https://bookdown.org/content/4857/)), s.S. 188.

---


## Implizierte bedingte Unabh√§ngigkeiten von `bsp2`

- Ein Graph ohne `U`s ist eine starke, oft zu starke (unrealistisch optimistische) Annahme.
- Auch wenn die Daten aus nicht sagen k√∂nnen, welcher DAG der richtige ist, k√∂nnen wir zumindest lernen, welcher DAG falsch ist.
- Einige testbare Modellimplikationen sind vom Modell implizierte bedingte Unabh√§ngigkeiten.
- Bedingten Unabh√§ngigkeit zwischen zwei Variablen sind Variablen, die nicht assoziiert (also stochastisch unabh√§ngig) sind, wenn wir eine bestimmte Menge an Drittvariablen kontrollieren.

- `bsp2` impliziert folgende bedingte Unabh√§ngigkeiten:


```
## A _||_ W | S
## D _||_ S | A, M, W
## M _||_ W | S
```

---








name: hinweise
class: center, middle, inverse







# Hinweise 

---

## Zu diesem Skript

- Dieses Skript bezieht sich auf folgende [Lehrb√ºcher](#literatur): 
  - Regression and other stories


- Dieses Skript wurde erstellt am 2021-12-01 23:01:33 

- Lizenz: [MIT-Lizenz](https://github.com/sebastiansauer/QM2-Folien/blob/main/LICENSE)

- Autor: Sebastian Sauer.

- Um diese HTML-Folien korrekt darzustellen, ist eine Internet-Verbindung n√∂tig.

- Mit der Taste `?` bekommt man eine Hilfe √ºber Shortcuts.

- Wenn Sie die Endung `.html` in der URL mit `.pdf` ersetzen, bekommen Sie die PDF-Version der Datei. 

- Alternativ k√∂nnen Sie im Browser Chrome die Folien als PDF drucken (klicken Sie auf den entsprechenden Men√ºpunkt).

- Den Quellcode der Skripte finden Sie [hier](https://github.com/sebastiansauer/QM2-Folien/tree/main/Themen).

- Eine PDF-Version kann erzeugt werden, indem man im Chrome-Browser die Webseite druckt (Drucken als PDF).

---

name: homepage
background-image: url(https://raw.githubusercontent.com/sebastiansauer/QM2-Folien/main/img/outro/img8.jpg)
background-size: contain
background-position: left




.pull-right[

&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
.right[
### [Homepage](https://sebastiansauer.github.io/bayes-start/)
]


]





&lt;!-- https://github.com/sebastiansauer/QM2-Folien/blob/main/img/outro/img1.jpg?raw=true --&gt;
&lt;!-- ../img/outro/img --&gt;

---

name: literatur

## Literatur

[Diese](https://sebastiansauer.github.io/QM2-Folien/citations.html) R-Pakete wurden verwendet.

.small[
&lt;a name=bib-kurz_statistical_2021&gt;&lt;/a&gt;[Kurz, A.
S.](#cite-kurz_statistical_2021) (2021). _Statistical rethinking with
brms, ggplot2, and the tidyverse: Second edition_.

&lt;a name=bib-mcelreath_statistical_2020&gt;&lt;/a&gt;[McElreath,
R.](#cite-mcelreath_statistical_2020) (2020). _Statistical rethinking:
a Bayesian course with examples in R and Stan_. 2nd ed. CRC texts in
statistical science. Taylor and Francis, CRC Press.

&lt;a name=bib-messerli_chocolate_2012&gt;&lt;/a&gt;[Messerli, F.
H.](#cite-messerli_chocolate_2012) (2012). "Chocolate Consumption,
Cognitive Function, and Nobel Laureates". In: _New England Journal of
Medicine_ 367.16, pp. 1562-1564. DOI:
[10.1056/NEJMon1211064](https://doi.org/10.1056%2FNEJMon1211064).

&lt;a name=bib-pearl_causal_2016&gt;&lt;/a&gt;[Pearl, J., M. Glymour, and N. P.
Jewell](#cite-pearl_causal_2016) (2016). _Causal inference in
statistics: a primer_. Wiley. 136 pp.

&lt;a name=bib-rohrer_thinking_2018&gt;&lt;/a&gt;[Rohrer, J.
M.](#cite-rohrer_thinking_2018) (2018). "Thinking Clearly About
Correlations and Causation: Graphical Causal Models for Observational
Data". In: _Advances in Methods and Practices in Psychological Science_
1.1, pp. 27-42. DOI:
[10.1177/2515245917745629](https://doi.org/10.1177%2F2515245917745629).

]


---


        
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
